<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temple Building: Then & Now</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f0f0;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }
        p {
            color: #666;
            margin-bottom: 20px;
            text-align: center;
            max-width: 600px;
        }
        
        /* --- NEW CONTAINER AND IMAGE CSS --- */

        .image-compare-container {
            position: relative;
            width: 80%; /* Or 100% if you prefer */
            max-width: 900px; /* Adjust as needed */
            overflow: hidden;
            border: 2px solid #ccc;
            cursor: ew-resize;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            /* NO aspect-ratio or height. The base image defines it. */
        }
        
        .image-compare-container img {
            /* This applies to BOTH images */
            display: block;
            width: 100%; /* Fill the container */
            height: 100%; /* Fill the container */
            pointer-events: none;
            
            /* Remove all 'object-fit' properties */
        }

        .base-image {
            /* This image is in the normal flow and sets the container's height */
            position: relative; 
        }

        .overlay-image {
            /* This image sits on top and will be clipped */
            position: absolute;
            top: 0;
            left: 0;
            
            /* Initial clip: show right 50% */
            clip-path: polygon(50% 0, 100% 0, 100% 100%, 50% 100%);
        }

        /* --- SLIDER HANDLE CSS (Slightly modified) --- */

        .divider {
            position: absolute;
            top: 0;
            left: 50%; /* Initial position */
            width: 4px;
            height: 100%;
            background-color: white;
            transform: translateX(-50%);
            z-index: 10;
            pointer-events: none; 
        }
        .handle {
            position: absolute;
            top: 50%;
            left: 50%; /* Initial position */
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background-color: white;
            border-radius: 50%;
            border: 2px solid #ccc;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 11;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
        }
        .handle::before,
        .handle::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 2px;
            background-color: #333;
        }
        .handle::before {
            left: 8px;
            transform: rotate(45deg);
        }
        .handle::after {
            right: 8px;
            transform: rotate(-45deg);
        }

        /* Labels for "Then" and "Now" */
        .label {
            position: absolute;
            top: 10px;
            padding: 5px 10px;
            background-color: rgba(0, 0, 0, 0.6);
            color: white;
            font-size: 0.9em;
            border-radius: 3px;
            z-index: 5;
        }
        .label.left {
            left: 10px;
        }
        .label.right {
            right: 10px;
        }

        @media (max-width: 768px) {
            .image-compare-container {
                width: 95%;
            }
        }
    </style>
</head>
<body>
    <h1>The Temple Building: Then & Now</h1>
    <p>Explore the transformation of the historic Temple Building on the UNL campus. Drag the slider to compare how it looked in the 1920s with its appearance in 2025.</p>

    <div class="image-compare-container" id="imageCompare">
        
        <img src="58.jpg" alt="Temple Building in the 1920s" class="base-image">
        
        <img src="IMG_5296.jpeg" alt="Temple Building in 2025" class="overlay-image">
        
        <div class="divider"></div>
        <div class="handle"></div>
        <span class="label left">1920s</span>
        <span class="label right">2025</span>
    </div>

    <script>
        const container = document.getElementById('imageCompare');
        const overlayImage = container.querySelector('.overlay-image');
        const divider = container.querySelector('.divider');
        const handle = container.querySelector('.handle');

        let isDragging = false;

        function updateSlider(x) {
            const containerRect = container.getBoundingClientRect();
            let newX = x - containerRect.left;

            // Clamp the position to be within the container
            if (newX < 0) newX = 0;
            if (newX > containerRect.width) newX = containerRect.width;

            const percentage = (newX / containerRect.width) * 100;

            // Update the positions
            divider.style.left = `${percentage}%`;
            handle.style.left = `${percentage}%`;
            
            // Update the CSS clip-path
            overlayImage.style.clipPath = `polygon(${percentage}% 0, 100% 0, 100% 100%, ${percentage}% 100%)`;
        }

        // Mouse events
        container.addEventListener('mousedown', (e) => {
            isDragging = true;
            updateSlider(e.clientX);
        });
        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            updateSlider(e.clientX);
        });
        document.addEventListener('mouseup', () => {
            isDragging = false;
        });

        // Touch events
        container.addEventListener('touchstart', (e) => {
            isDragging = true;
            updateSlider(e.touches[0].clientX);
            e.preventDefault(); 
        });
        document.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            updateSlider(e.touches[0].clientX);
            e.preventDefault(); 
        });
        document.addEventListener('touchend', () => {
            isDragging = false;
        });

        // Set initial position
        window.addEventListener('load', () => {
            updateSlider(container.getBoundingClientRect().left + container.offsetWidth / 2);
        });
        window.addEventListener('resize', () => {
            updateSlider(container.getBoundingClientRect().left + container.offsetWidth / 2);
        });
    </script>
</body>
</html>